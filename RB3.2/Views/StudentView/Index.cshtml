    

@model RB3._2.Models.ViewModel

@{
    ViewBag.Title = "Index";
}
@*@<h2>Index</h2>
@Html.ActionLink("Create New", "GetStudent")
<!--Add Jquery Datatable reference files-->
<link rel="stylesheet" href="//cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css" />
<div style="width:90%;">
    <table id="Jdatatable" class="table table-responsive table-bordered">
        <thead>
            <tr>
                <th>Id</th>
               
                    <th>FName</th>
                <th>LName</th>
               
                <th>Phone</th>
               
                <th>PermanentAddress</th>
                <th>CurrentAddress</th>
                <th>Edit</th>
                <th>Delete</th>

            </tr>
        </thead>
    </table>
</div>
@section scripts{
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="//cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
        debugger;
        $("#Jdatatable").DataTable({
            "ajax": {
                "url": "/StudentView/GetData",
                "type": "GET",
                "datatype":"json"
            },
            "columns": [
                        { "data": "Id", "autoWidth": true },
                        //{ "data": "RollNo", "autowidth": true },
                        { "data": "FName", "autoWidth": true },
                        { "data": "LName", "autoWidth": true },
                        //{ "data": "Age", "autoWidth": true },
                        { "data": "Phone", "autoWidth": true },
                        //{ "data": "Email", "autoWidth": true },
                        { "data": "PermanentAddress", "autoWidth": true },
                        { "data": "CurentAddress", "autoWidth": true },
                        //{ "data": null, "defaultContent": "<input type='checkbox'>", "autoWidth": true },
                        { "data": null, "defaultContent": "<input type='button' value='Edit'>", "autoWidth": true },
                        { "data": null, "defaultContent": "<input type='button' value='Delete'>", "autoWidth": true }
            ]
        });
    });
    </script>
}*@
<div>
    <h2>Student</h2>

    <table id="student" class="table table-responsive table-bordered">
        <thead>
            <tr>
                <th>FName</th>
                <th>LName</th>
               
                <th>Class</th>
               
                <th>PermanentAddress</th>
                <th>CurrentAddress</th>
                <th>Phone</th>
            </tr>
        </thead>
    </table>
    </div>



    @*<div>
            <h2>Search by ID</h2>

            <input type="text" size="5" id="stuId" />
            <input type="button" value="Search" onclick="find();" />

            <p id="st"></p>
        </div>*@

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript">


        var uri = "http://localhost:28325/api/StudentApi";
            $(document).ready(function () {
                $.getJSON(uri)
                .done(function (data) {
                    $.each(data, function (key, item) {
                        $('#student').append("<tr><td>" + item.FName + "</td>" + "<td>" + item.LName + "</td>" + "<td>" + item.Class + "</td>"  + "<td>" + item.studentdetails.PermanentAddress + "</td>" + "<td>" + item.studentdetails.CurrentAddress + "</td>" + "<td>" + item.studentdetails.Phone + "</td></tr>");
                    });
                });
            });

            //function formatItem(item) {
            //    return item.Name + '-' + item.RollNo;
            //}
            //function find() {
            //    var id = $('#stuId').val();
            //    $.getJSON(uri + '/' + id)
            //    .done(function (data) {
            //        $('#st').text(formatItem(data));
            //    })
            //    .fail(function (jqXHR, textStatus, err) {
            //        $('#student').text('error' + err);
            //    })
            //}

    </script>
















